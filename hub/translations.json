{
    "weather":{
        "GET" : {
            "apiPrefix":"get",
            "baseURL":"http://query.yahooapis.com/v1/public/yql",
            "queryObject":{
                "q":"select * from weather.forecast where woeid in (select woeid from geo.places(1) where text='%location%') and u='%unit?=c%'",
                "format":"json"
            },
            "microbitQueryString":"/%location%/%endpoint%/%unit?%",
            "compulsoryParameters":[
                {
                    "name":"location",
                    "type":"string"
                }
            ],
            "endpoint":{
                "temperature":{
                    "returns":[
                        {
                            "type":"string",
                            "name":"temp"
                        }
                    ],
                    "jsonPath":"query.results.channel.item.condition"
                },
                "wind":{
                    "returns":[
                        {
                            "type":"string",
                            "name":"chill"
                        },
                        {
                            "type":"string",
                            "name":"direction"
                        },
                        {
                            "type":"string",
                            "name":"speed"
                        }
                    ],
                    "jsonPath":"query.results.channel.wind"
                },
                "forecastNow":{
                    "returns":[
                        {
                            "type":"int",
                            "name":"high"
                        },
                        {
                            "type":"int",
                            "name":"low"
                        },
                        {
                            "type":"string",
                            "name":"text",
                            "alt":"description"
                        }
                    ],
                    "cacheMs":"15000",
                    "jsonPath":"query.results.channel.item.forecast[0]"
                },
                "forecastTomorrow":{
                    "returns":[
                        {
                            "type":"string",
                            "name":"high"
                        },
                        {
                            "type":"string",
                            "name":"low"
                        },
                        {
                            "type":"string",
                            "name":"text",
                            "alt":"description"
                        }
                    ],
                    "jsonPath":"query.results.channel.item.forecast[1]"
                }
            }
        },
        "POST" : {
            "apiPrefix":"setRoom",
            "baseURL":"http://localhost:8000/api/rooms/%room%",
            "microbitQueryString":"/%room%/%endpoint%/",
            "queryObject":{
                "temperature":"%temperature?=%",
                "light_level":"%light_level?=%",
                "humidity":"%humidity?=%"
            },
            "compulsoryParameters":[
                {
                    "name":"room",
                    "type":"string"
                }
            ],
            "endpoint":{
                "temperature":{
                    "parameters":[
                        {
                            "name":"temperature",
                            "type":"int"
                        }
                    ]
                },
                "lightlevel":{
                    "parameters":[
                        {
                            "name":"light_level",
                            "type":"int"
                        }
                    ]
                },
                "humidity":{
                    "parameters":[
                        {
                            "name":"humidity",
                            "type":"int"
                        }
                    ]
                },
                "none":{
                    "parameters":[
                        {
                            "name":"temperature",
                            "type":"int"
                        },
                        {
                            "name":"light_level",
                            "type":"int"
                        },
                        {
                            "name":"humidity",
                            "type":"int"
                        }
                    ]
                }
            }
        }
    },
    "iot":{
        "GET" : {
            "apiPrefix":"get",
            "baseURL":"http://global-logic.com/api/v1/devices/",
            "microbitQueryString":"/%endpoint%/%unit?%",
            "compulsoryParameters":[
                {
                    "name":"endpoint",
                    "type":"string"
                }
            ],
            "endpoint":{
                "sensorState":{
                    "returns":[
                        {
                            "type":"string",
                            "name":"status"
                        }
                    ]
                }
            }
        },
        "POST" : {
            "apiPrefix":"set",
            "baseURL":"http://global-logic.com/api/v1/devices/",
            "microbitQueryString":"/%endpoint%/",
            "endpoint":{
                "bulbState":{
                    "parameters":[
                        {
                            "name":"bulbName",
                            "type":"string"
                        },
                        {
                            "name":"state",
                            "type":"int"
                        }
                    ]
                },
                "bulbVal":{
                    "parameters":[
                        {
                            "name":"bulbName",
                            "type":"string"
                        },
                        {
                            "name":"level",
                            "type":"int"
                        }
                    ]
                },
                "bulbColour":{
                    "parameters":[
                        {
                            "name":"bulbName",
                            "type":"string"
                        },
                        {
                            "name":"colour",
                            "type":"int"
                        }
                    ]
                },
                "switchState":{
                    "parameters":[
                        {
                            "name":"switchName",
                            "type":"string"
                        },
                        {
                            "name":"state",
                            "type":"int"
                        }
                    ]
                }
            }
        }
    },
    "energy":{
        "GET" : {
            "apiPrefix":"get",
            "baseURL":"http://global-logic.com/api/v1/devices/",
            "microbitQueryString":"/%endpoint%/%unit?%",
            "compulsoryParameters":[
                {
                    "name":"endpoint",
                    "type":"string"
                }
            ],
            "endpoint":{
                "energyLevel":{
                    "returns":[
                        {
                            "type":"string",
                            "name":"status"
                        }
                    ]
                }
            }
        }
    },
    "init":{
        "POST" : {
            "apiPrefix":"set",
            "microbitQueryString":"/%endpoint%/",
            "endpoint":{
                "schoolId":{
                    "parameters":[
                        {
                            "name":"schoolid",
                            "type":"string"
                        }
                    ]
                },
                "piId":{
                    "parameters":[
                        {
                            "name":"piid",
                            "type":"string"
                        }
                    ]
                }
            }
        }
    },
    "carbon":{
        "GET" : {
            "apiPrefix":"get",
            "baseURL":"http://carbonintensity.org.uk/",
            "microbitQueryString":"/%endpoint%/%unit?%",
            "compulsoryParameters":[
                {
                    "name":"endpoint",
                    "type":"string"
                }
            ],
            "endpoint":{
                "carbonIndex":{
                    "returns":[
                        {
                            "type":"string",
                            "name":"index"
                        }
                    ]
                },
                "carbonValue":{
                    "returns":[
                        {
                            "type":"string",
                            "name":"value"
                        }
                    ]
                },
                "carbonGenerationMix":{
                    "returns":[
                        {
                            "type":"string",
                            "name":"level"
                        }
                    ]
                }
            }
        }
    },
    "share":{
        "GET" : {
            "apiPrefix":"get",
            "baseURL":"http://global-logic.com/api/v1/devices/",
            "microbitQueryString":"/%endpoint%/%unit?%",
            "compulsoryParameters":[
                {
                    "name":"endpoint",
                    "type":"string"
                }
            ],
            "endpoint":{
                "fetchData":{
                    "returns":[
                        {
                            "type":"string",
                            "name":"data"
                        }
                    ]
                }
            }
        },
        "POST" : {
            "apiPrefix":"set",
            "microbitQueryString":"/%endpoint%/",
            "endpoint":{
                "shareData":{
                    "parameters":[
                        {
                            "name":"value",
                            "type":"string"
                        },
                        {
                            "name":"name",
                            "type":"string"
                        },
                        {
                            "name":"level",
                            "type":"int"
                        }
                    ]
                }
            }
        }
    }
}
